sudo: required
dist: trusty

language: cpp
compiler:
  - clang

services:
  - docker

before_install:
- mkdir artifacts
- docker pull nicolaw/trinitycore

before_install:
  - git config user.email "travis@build.bot" && git config user.name "Travis CI"
  - git tag -a -m "Travis build" init

script:
  - mkdir artifacts
  - docker run -it --rm -v "$PWD/artifacts":/artifacts nicolaw/trinitycore -r https://github.com/timothystewart6/BotsPlusPlus.git#${TRAVIS_COMMIT}
  - docker ps -a
  - ./artifacts/authserver --version
  - ./artifacts/worldserver --version